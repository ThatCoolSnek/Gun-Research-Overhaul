<?xml version="1.0" encoding="utf-8" ?>

<Patch>

    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>CE Guns But It's (Mostly) AKs but it adds the guns</li>
		</mods>
        <match Class="PatchOperationSequence">
        <operations>
            <!-- AK-74 (bakelite) -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_AK-74Bakelite"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_AK-74Bakelite"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Vepr 7.62R -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_Vepr762R"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- RPK74 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_RPK74_gun"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_RPK74_gun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- PSL -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_PSL"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_PSL"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_SimpleScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- KSVK 12.7 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_KSVK_127_gun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_ModernScopes</li>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- RPK -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_RPK"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_RPK"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- RG-6 grenade launcher -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_RG6_gun"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>Snek_DoubleAction</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- ROKS Flamethrower -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_ROKS"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_FlameThrowers</researchPrerequisite>
                    </value>
            </li>
            <!-- MP-412 REX -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_mpfourtwelve"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
            </li>
            <!-- DP 28 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_dptwentyeight"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- TT-33 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_ttthirtythree"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">BlowbackOperation</researchPrerequisite>
                    </value>
            </li>
            <!-- AK-74m -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_akseventyfourm"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- SV98 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_svninetyeight"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">PrecisionRifling</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_svninetyeight"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_ModernScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Gepard SMG -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_gepard"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
            </li>
            <!-- PP-19 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_ppnineteen"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_ppnineteen"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Baikal MP-133 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_baikal_mpOneThreeThree"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_PumpAction</researchPrerequisite>
                    </value>
            </li>
            <!-- Mosin -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_Mosin"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_BoltAction</researchPrerequisite>
                    </value>
            </li>
            <!-- AKM -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_AKFortySeven"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <!-- AKS-74U -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_AKSSeventyFourU"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_AKSSeventyFourU"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- PTRS 41 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_PTRS"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- PKM -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="ak_PKM"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_PKM"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge LMG -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_ChargeLMG"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge Sniper -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_ChargeSniperRifle"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_ModernScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge SMG -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="ak_ChargeSMG"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                        </researchPrerequisites>
                    </value>
            </li>
        </operations>
    </match>
</Operation>

</Patch>