<?xml version="1.0" encoding="utf-8"?>

<Patch>

    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>GTek's Arsenal 2.0 - Ultimate Survival and Colony Defense</li>
		</mods>
        <match Class="PatchOperationSequence">
            <operations>

                <!-- Ruger Super Redhawk -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_RugerSuperRedhawk"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_RugerSuperRedhawk"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>Snek_SimpleScopes</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Ruger LCR -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_RugerLCR"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_RugerLCR"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Taurus Model 455 Tracker -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TaurusM455Tracker"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TaurusM455Tracker"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Taurus Raging Bull 454 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TaurusRagingBull"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TaurusRagingBull"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Taurus Raging Bull 444 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TaurusRagingBull_44Mag"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TaurusRagingBull_44Mag"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Colt Python -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_ColtPython"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>

                <!-- S&W Model 686 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_SW686Gun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_SW686Gun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- S&W Model 36 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_SW36Gun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>

                <!-- S&W M&P R8 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_SWR8Revolver"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </value>
                </li>
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_SWR8Revolver"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>CE_SimpleNV</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- CZ P-07 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_CZP07_Gun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- SIG P320 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_P320SIG"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- TEC-9 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_TECNine"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- TEC-9 Auto -->
                <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="HIDGun_TECNineMod"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
                </li>

                <!-- KelTec P32 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_P32KelTec"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Ruger LCP -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_RugerLCP_Base"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Hi-Point Yeet Cannon -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_YeetCannon"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Glock 17 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_Glock17S_Base"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Glock 17 switched -->
                <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="HIDGun_Glock17A"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
                </li>

                <!-- Glock 19 -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_Glock19S"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- FN Five-SeveN -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_FiveSeven"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- H&K USP -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_USP45Std"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- H&K USP Tactical -->
                <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="HIDGun_USP45Tactical"]/recipeMaker/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>BlowbackOperation</li>
                            <li>Snek_Bakelite</li>
                            <li>CE_SimpleNV</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Walther PDP Compact -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_WaltherPDP_Compact_Base"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Walther P22Q -->
                <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="HIDGun_WaltherP22Q"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
                </li>

                <!-- Draco -->
                <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="HIDGun_Draco"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
                </li>

            </operations>
        </match>
    </Operation>
</Patch>