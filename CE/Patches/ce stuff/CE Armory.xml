<?xml version="1.0" encoding="utf-8" ?>

<Patch>
    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended Armory</li>
		</mods>
        <match Class="PatchOperationSequence">
        <operations>
            <!-- AK12 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_AKTwelve"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- AK-74 GL -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_AK74GL"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_AK74GL"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>CE_Launchers</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- AKS-74u -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_AKSSeventyFourU"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_AKSSeventyFourU"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- American 180 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_AmericanOneEighty"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
            </li>
            <!-- AVB 7.62 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_AVB"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- BAR -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_BAR"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- DP 27 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_DPtwentySeven"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Fitelite MCR -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_FightLiteMCR"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- FN 57 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_FNFiveSeven"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- P90 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_PNinety"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Big boy -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_BigBoy"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_LeverAction</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_BigBoy"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_SimpleScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Side Gate -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_HenrySideGate"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_LeverAction</researchPrerequisite>
                    </value>
            </li>
            <!-- Kord -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_KordPortable"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_AmmoBelts</li>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- KS 23 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_KSTwentyThree"]</xpath>
                    <value>
                        <recipeMaker>
                            <researchPrerequisite Inherit="False">Snek_PumpAction</researchPrerequisite>
                        </recipeMaker>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_KSTwentyThree"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Lewis Gun -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_Lewis"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- XM7 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_MSeven"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- M250 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_MTwoFifty"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_Bakelite</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- M1903 Springfield -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_M1903Springfield"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite>Snek_BoltAction</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_M1903Springfield"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_SimpleScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- M1917 Enfield -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_M1917Enfield"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_BoltAction</researchPrerequisite>
                    </value>
            </li>
            <!-- SIG MCX -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_SigMCX"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- MG338 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_MGThreeThreeEight"]/recipeMaker/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_Bakelite</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Micro Uzi -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_MicroUzi"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
            </li>
            <!-- Uzi -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_Uzi"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SMG</researchPrerequisite>
                    </value>
            </li>
            <!-- Mini-14 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_MiniFourteen"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_SimpleScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Mosin-Nagant -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_MosinNagant"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_BoltAction</researchPrerequisite>
                    </value>
            </li>
            <!-- RPK-16 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_RPKSixteen"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_Bakelite</li>
                            <li>Snek_LMG</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Sawed Off -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_SawedOff"]</xpath>
                    <value>
                        <recipeMaker>
                            <researchPrerequisite Inherit="False">Snek_BreakAction</researchPrerequisite>
                        </recipeMaker>
                    </value>
            </li>
            <!-- SR-25 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_SRTweintyFive"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_ModernScopes</li>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- SRS -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_SRS"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_ModernScopes</li>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Tac-50 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_TacFifty"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_ModernScopes</li>
                            <li>Snek_Bakelite</li>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Taurus Judge -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_TaurusJudge"]/recipeMaker</xpath>
                <value>
                    <recipeMaker>
                        <researchPrerequisite Inherit="False">Snek_DoubleAction</researchPrerequisite>
                    </recipeMaker>
                </value>
            </li>
            <!-- Tavor 7 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_TavorSeven"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Winchester 1886 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_WinchesterEightySix"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_LeverAction</researchPrerequisite>
                    </value>
            </li>
            <!--===== Emplacements =====-->
            <!-- M1919 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Turret_M1919Browning"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_TurretHeavyWeapons</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- M2 Browning machine gun -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Turret_M2HB"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_TurretHeavyWeapons</li>
                            <li>Snek_AmmoBelts</li>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Mk 19 grenade launcher -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Turret_MkNineteenGL"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_TurretHeavyWeapons</li>
                            <li>Snek_AmmoBelts</li>
                            <li>CE_Launchers</li>
                            <li>BlowbackOperation</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- PKM -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Turret_PKM"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_TurretHeavyWeapons</li>
                            <li>Snek_AmmoBelts</li>
                            <li>GasOperation</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- SPG-9 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Turret_SPGNine"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_TurretHeavyWeapons</li>
                            <li>CE_Launchers</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Vickers -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="Turret_Vickers"]/researchPrerequisites</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_TurretHeavyWeapons</li>
                            <li>Snek_AmmoBelts</li>
                            <li>GasOperation</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Mosque fal -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_MosqueFAL"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_BoltAction</researchPrerequisite>
                    </value>
            </li>
            <!-- boys rifle -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_BoysRifle"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_BoltAction</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_BoysRifle"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_HighCaliber</li>
                            <li>CE_TurretHeavyWeapons</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Madsen machien gun -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_MadsenLMG"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_LMG</researchPrerequisite>
                    </value>
            </li>
        </operations>
    </match>
</Operation>

</Patch>