<?xml version="1.0" encoding="utf-8" ?>

<Patch>

    <Operation Class="PatchOperationFindMod">
		<mods>
			<li>Combat Extended Guns</li>
		</mods>
        <match Class="PatchOperationSequence">
        <operations>
            <!-- S&W gov -->
            <li Class="PatchOperationReplace">
            <xpath>Defs/ThingDef[defName="CE_Gun_SWGovernor"]/recipeMaker/researchPrerequisite</xpath>
                <value>
                    <researchPrerequisite Inherit="False">
                        <li>Snek_DoubleAction</li>
                    </researchPrerequisite>
                </value>
            </li>
            <!-- winchester 94-->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_WinchesterNintyFour"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">
                            <li>Snek_LeverAction</li>
                        </researchPrerequisite>
                    </value>
            </li>
            <!-- USAS12 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_USASTwelve"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_USASTwelve"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Shotguns</li>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- FN FAL -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_FNFAL"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_FNFAL"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- AKM -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_AKM"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">Snek_SelectiveFire</researchPrerequisite>
                    </value>
            </li>
            <!-- AKMS-U -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_AKMSU"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- SVD -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_SVD"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_SVD"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_SimpleScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- HECATE II 
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_HecateTwo"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li> -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_HecateTwo"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_ModernScopes</li>
                            <li>Snek_HighCaliber</li>
                            <li>Snek_Bakelite</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- PTRS 41 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_PTRS"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- M249 -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_MTwoFourNine"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- M60E6 -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_MSixty"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_MSixty"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_Bakelite</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- RPD -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_RPD"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_RPD"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- PKM -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_PKM"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">GasOperation</researchPrerequisite>
                    </value>
            </li>
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_PKM"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Flame Thrower -->
            <li Class="PatchOperationReplace">
                <xpath>Defs/ThingDef[defName="CE_Gun_Flamethrower"]/recipeMaker/researchPrerequisite</xpath>
                    <value>
                        <researchPrerequisite Inherit="False">
                            <li>Snek_FlameThrowers</li>
                        </researchPrerequisite>
                    </value>
            </li>
            <!-- Charge Pistol -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_ChargePistol"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge Shotgun -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_ChargeShotgun"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge SMG -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_ChargeSMG"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge Sniper -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_ChargeSniperRifle"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_ModernScopes</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge LMG -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_ChargeLMG"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_AmmoBelts</li>
                        </researchPrerequisites>
                    </value>
            </li>
            <!-- Charge AMR -->
            <li Class="PatchOperationAdd">
                <xpath>Defs/ThingDef[defName="CE_Gun_ChargeAMR"]/recipeMaker</xpath>
                    <value>
                        <researchPrerequisites>
                            <li>CE_SimpleNV</li>
                            <li>Snek_ModernScopes</li>
                            <li>Snek_HighCaliber</li>
                        </researchPrerequisites>
                    </value>
            </li>
        </operations>
        </match>
    </Operation>
    
</Patch>